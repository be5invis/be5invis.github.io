<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="I am surprised that nobody actually did a mathematical analysis of the variation model in OpenType. They are simply reusing the concepts of the old MM system, and complicating the things they need. St"><meta property="og:type" content="article"><meta property="og:title" content="Analyzing Variation Models"><meta property="og:url" content="http://typeof.net/2019/analyzing-variation-model/index.html"><meta property="og:site_name" content="Typeof.net"><meta property="og:description" content="I am surprised that nobody actually did a mathematical analysis of the variation model in OpenType. They are simply reusing the concepts of the old MM system, and complicating the things they need. St"><meta property="og:locale"><meta property="article:published_time" content="2019-04-15T07:00:00.000Z"><meta property="article:modified_time" content="2024-08-04T23:03:14.071Z"><meta property="article:author" content="Belleve Invis"><meta property="article:tag" content="Typeface"><meta property="article:tag" content="Geometry"><meta name="twitter:card" content="summary"><link rel="shortcut icon" href="/images/favicon.ico"><title>Analyzing Variation Models</title><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/lib/iosevka/Iosevka.css"><link rel="stylesheet" href="/lib/iosevka-slab/IosevkaSlab.css"><link rel="stylesheet" href="/lib/source-serif-4/webfont.css"><link rel="stylesheet" href="/lib/math-symbol/symbol.css"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Typeof.net" type="application/atom+xml"></head><body><div class="content index width mx-auto px2 my4"><header id="header"><a href="/" title="home"><div id="title"><h1><span class="k">|<i>---</i></span> Typeof.net</h1></div></a></header><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="post-title" itemprop="name headline">Analyzing Variation Models</h1><div class="meta"><span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Belleve Invis</span></span><div class="postdate">· <time datetime="2019-04-15T07:00:00.000Z" itemprop="datePublished">2019-04-15</time></div><div class="article-tag"><a class="tag-link-link" href="/tags/Geometry/" rel="tag">Geometry</a>, <a class="tag-link-link" href="/tags/Typeface/" rel="tag">Typeface</a></div></div></header><div class="content" itemprop="articleBody"><p>I am surprised that nobody actually did a mathematical analysis of the variation model in OpenType. They are simply reusing the concepts of the old MM system, and complicating the things they need.</p><h2 id="Standard-variations">Standard variations</h2><p>For almost all places in a current variable font, anything that varies (coordinates, lengths, parameters, etc.) could be expressed in the following model:</p><div class="display-eqn"><table class="eqn-align"><tr id="eqn-anchor-1"><td style="text-align:right"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><var>x̂</var><span class="e bn l"><span class="BracketStart">(</span></span><var>v</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">=</span><span class="kern" style="margin-left:.25em"><var>x̄</var></span><span class="kern" style="margin-left:.25em"><span class="Bin">+</span></span><span class="kern" style="margin-left:.25em"><span class="r sss" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:-.050000000000000044em"><span class="r bo" style="height:1.98em;vertical-align:.3749999999999999em"><span class="eb start">{</span><span class="ri" style="top:-2.220446049250313e-16em"><span class="r" style="height:1.8em"><span class="ri" style="font-size:1.5em"><span class="BigOperator">∑</span></span></span></span><span class="eb end">}</span></span></span><span class="ri" style="top:2.2em;font-size:.7em"><var>m</var><span class="kern" style="margin-left:.25em"><span class="Bin">∈</span></span><span class="kern" style="margin-left:.25em"><xc>𝔐</xc><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span></span></span><span class="eb end">}</span></span></span><var>D</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="e bn r"><span class="BracketEnd">]</span></span><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">1</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr><tr id="eqn-anchor-2"><td style="text-align:right"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">=</span><span class="kern" style="margin-left:.25em"><span class="r sss" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:-.050000000000000044em"><span class="r bo" style="height:1.98em;vertical-align:.3749999999999999em"><span class="eb start">{</span><span class="ri" style="top:-2.220446049250313e-16em"><span class="r" style="height:1.8em"><span class="ri" style="font-size:1.5em"><span class="BigOperator">∏</span></span></span></span><span class="eb end">}</span></span></span><span class="ri" style="top:2.2em;font-size:.7em"><var>a</var><span class="kern" style="margin-left:.25em"><span class="Bin">∈</span></span><span class="kern" style="margin-left:.25em"><xc>𝔄</xc></span></span><span class="eb end">}</span></span></span>Λ<span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="e bn l"><span class="BracketStart">[</span></span><var>a</var><span class="e bn r"><span class="BracketEnd">]</span></span><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn l"><span class="BracketStart">[</span></span><var>a</var><span class="e bn r"><span class="BracketEnd">]</span></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">2</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr></table></div><p>The notation <span class="eqn"><var>x̂</var></span> denotes a variable quantity (VQ), which responds to an instance tuple <span class="eqn"><var>v</var></span>. <span class="eqn"><var>x̄</var></span> is the default value of <span class="eqn"><var>x̂</var></span>. <span class="eqn"><xc>𝔐</xc><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span></span> represents the region set of <span class="eqn"><var>x̂</var></span>, and <span class="eqn"><var>D</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="e bn r"><span class="BracketEnd">]</span></span></span> is the delta associated with this master <span class="eqn"><var>m</var></span>. Binary function <span class="eqn"><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span> computes the weight of master <span class="eqn"><var>m</var></span> under instance <span class="eqn"><var>v</var></span>, which is defined as a product of axis weights.</p><p>We can easily conclude that VQs form a linear space, since scalar product and sum can be defined in such manner:</p><div class="display-eqn"><table class="eqn-align"><tr id="eqn-anchor-3"><td style="text-align:right"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><span class="e bn l"><span class="BracketStart">(</span></span><var>s</var><span class="kern" style="margin-left:.25em"><span class="Bin">⋅</span></span><span class="kern" style="margin-left:.25em"><var>x̂</var></span><span class="e bn r"><span class="BracketEnd">)</span></span><span class="e bn l"><span class="BracketStart">(</span></span><var>v</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">=</span><span class="kern" style="margin-left:.25em"><span class="e bn l"><span class="BracketStart">(</span></span><var>s</var><var>x̄</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="kern" style="margin-left:.25em"><span class="Bin">+</span></span><span class="kern" style="margin-left:.25em"><span class="r sss" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:-.050000000000000044em"><span class="r bo" style="height:1.98em;vertical-align:.3749999999999999em"><span class="eb start">{</span><span class="ri" style="top:-2.220446049250313e-16em"><span class="r" style="height:1.8em"><span class="ri" style="font-size:1.5em"><span class="BigOperator">∑</span></span></span></span><span class="eb end">}</span></span></span><span class="ri" style="top:2.2em;font-size:.7em"><var>m</var><span class="kern" style="margin-left:.25em"><span class="Bin">∈</span></span><span class="kern" style="margin-left:.25em"><xc>𝔐</xc><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span></span></span><span class="eb end">}</span></span></span><span class="e bn l"><span class="BracketStart">(</span></span><var>s</var><var>D</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="e bn r"><span class="BracketEnd">]</span></span><span class="e bn r"><span class="BracketEnd">)</span></span><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">3</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr><tr id="eqn-anchor-4"><td style="text-align:right"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><span class="e bn l"><span class="BracketStart">(</span></span><var>x̂</var><span class="kern" style="margin-left:.25em"><span class="Bin">+</span></span><span class="kern" style="margin-left:.25em"><var>ŷ</var></span><span class="e bn r"><span class="BracketEnd">)</span></span><span class="e bn l"><span class="BracketStart">(</span></span><var>v</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">=</span><span class="kern" style="margin-left:.25em"><span class="e bn l"><span class="BracketStart">(</span></span><var>x̄</var><span class="kern" style="margin-left:.25em"><span class="Bin">+</span></span><span class="kern" style="margin-left:.25em"><var>ȳ</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="kern" style="margin-left:.25em"><span class="Bin">+</span></span><span class="kern" style="margin-left:.25em"><span class="r sss" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:-.050000000000000044em"><span class="r bo" style="height:1.98em;vertical-align:.3749999999999999em"><span class="eb start">{</span><span class="ri" style="top:-2.220446049250313e-16em"><span class="r" style="height:1.8em"><span class="ri" style="font-size:1.5em"><span class="BigOperator">∑</span></span></span></span><span class="eb end">}</span></span></span><span class="ri" style="top:2.2em;font-size:.7em"><var>m</var><span class="kern" style="margin-left:.25em"><span class="Bin">∈</span></span><span class="kern" style="margin-left:.25em"><xc>𝔐</xc><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span></span><span class="kern" style="margin-left:.25em"><span class="Bin">∪</span></span><span class="kern" style="margin-left:.25em"><xc>𝔐</xc><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>y</var></span><span class="eb end">}</span></span></span></span><span class="eb end">}</span></span></span><span class="e bn l"><span class="BracketStart">(</span></span><var>D</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="e bn r"><span class="BracketEnd">]</span></span><span class="kern" style="margin-left:.25em"><span class="Bin">+</span></span><span class="kern" style="margin-left:.25em"><var>D</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>y</var></span><span class="eb end">}</span></span></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="e bn r"><span class="BracketEnd">]</span></span><span class="e bn r"><span class="BracketEnd">)</span></span><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">4</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr></table></div><p>One thing we could not define yet is the product of two VQs, we’d like to discuss them later.</p><p>You’ve noticed that the entire variation model is a <em>sum</em>, instead of <em>blending</em> values across masters. However, conversion from blending into VQ could be easily achieved by solving a linear system.</p><h2 id="Nested-variations">Nested variations</h2><p>One interesting special case happens in CFF2: in theory, the <code>blend</code> operators in CFF2 could be nested, so equation <a href="#eqn-anchor-1">(1)</a> would be modified into this form:</p><div class="display-eqn"><table class="eqn-align"><tr id="eqn-anchor-5"><td style="text-align:right"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><var>x̂</var><span class="e bn l"><span class="BracketStart">(</span></span><var>v</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">=</span><span class="kern" style="margin-left:.25em"><var>x̄</var></span><span class="kern" style="margin-left:.25em"><span class="Bin">+</span></span><span class="kern" style="margin-left:.25em"><span class="r sss" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:-.050000000000000044em"><span class="r bo" style="height:1.98em;vertical-align:.3749999999999999em"><span class="eb start">{</span><span class="ri" style="top:-2.220446049250313e-16em"><span class="r" style="height:1.8em"><span class="ri" style="font-size:1.5em"><span class="BigOperator">∑</span></span></span></span><span class="eb end">}</span></span></span><span class="ri" style="top:2.2em;font-size:.7em"><var>m</var><span class="kern" style="margin-left:.25em"><span class="Bin">∈</span></span><span class="kern" style="margin-left:.25em"><xc>𝔐</xc><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span></span></span><span class="eb end">}</span></span></span><var>D̂</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="e bn r"><span class="BracketEnd">]</span></span><span class="e bn l"><span class="BracketStart">(</span></span><var>v</var><span class="e bn r"><span class="BracketEnd">)</span></span><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">5</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr></table></div><p>The only difference is that the factor <span class="eqn"><var>D̂</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="e bn r"><span class="BracketEnd">]</span></span><span class="e bn l"><span class="BracketStart">(</span></span><var>v</var><span class="e bn r"><span class="BracketEnd">)</span></span></span> is now a VQ instead of a number. However the property that VQs form a linear space still holds, since we can recursively scale or sum VQs in <a href="#eqn-anchor-5">(5)</a>.</p><h2 id="Products-of-variations">Products of variations</h2><p>One thing we’d like to extend current standard is allowing products <span class="eqn"><span class="e bn l"><span class="BracketStart">(</span></span><var>x̂</var><span class="kern" style="margin-left:.25em"><span class="Bin">⋅</span></span><span class="kern" style="margin-left:.25em"><var>ŷ</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span> be representable in the variation system, and that is surprisingly simple by allowing axes to repeat in masters (variation regions). The product</p><div class="display-eqn"><table class="eqn-align"><tr id="eqn-anchor-6"><td style="text-align:right"><span class="eqn"><span class="r" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:0"><span class="e bn l"><span class="BracketStart">(</span></span><var>x̂</var><span class="kern" style="margin-left:.25em"><span class="Bin">⋅</span></span><span class="kern" style="margin-left:.25em"><var>ŷ</var></span><span class="e bn r"><span class="BracketEnd">)</span></span><span class="e bn l"><span class="BracketStart">(</span></span><var>v</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">=</span><span class="kern" style="margin-left:.25em"><var>x̄</var></span><span class="kern" style="margin-left:.25em"><span class="Bin">⋅</span></span><span class="kern" style="margin-left:.25em"><var>ȳ</var></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:0"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">6</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr><tr id="eqn-anchor-7"><td style="text-align:right"><span class="eqn"><span class="r" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:0"></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">+</span><span class="kern" style="margin-left:.25em"><span class="e bn l"><span class="BracketStart">(</span></span><var>x̄</var><span class="kern" style="margin-left:.25em"><span class="Bin">⋅</span></span><span class="kern" style="margin-left:.25em"><var>ŷ</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="e bn l"><span class="BracketStart">(</span></span><var>v</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:0"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">7</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr><tr id="eqn-anchor-8"><td style="text-align:right"><span class="eqn"><span class="r" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:0"></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">+</span><span class="kern" style="margin-left:.25em"><span class="e bn l"><span class="BracketStart">(</span></span><var>ȳ</var><span class="kern" style="margin-left:.25em"><span class="Bin">⋅</span></span><span class="kern" style="margin-left:.25em"><var>x̂</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="e bn l"><span class="BracketStart">(</span></span><var>v</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:0"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">8</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr><tr id="eqn-anchor-9"><td style="text-align:right"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">+</span><span class="kern" style="margin-left:.25em"><span class="r sss" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:-.050000000000000044em"><span class="r bo" style="height:1.98em;vertical-align:.3749999999999999em"><span class="eb start">{</span><span class="ri" style="top:-2.220446049250313e-16em"><span class="r" style="height:1.8em"><span class="ri" style="font-size:1.5em"><span class="BigOperator">∑</span></span></span></span><span class="eb end">}</span></span></span><span class="ri" style="top:2.2em;font-size:.7em"><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="kern" style="margin-left:.25em"><span class="Bin">∈</span></span><span class="kern" style="margin-left:.25em"><xc>𝔐</xc><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span></span></span><span class="eb end">}</span></span></span><span class="sp"> </span><span class="r sss" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:-.050000000000000044em"><span class="r bo" style="height:1.98em;vertical-align:.3749999999999999em"><span class="eb start">{</span><span class="ri" style="top:-2.220446049250313e-16em"><span class="r" style="height:1.8em"><span class="ri" style="font-size:1.5em"><span class="BigOperator">∑</span></span></span></span><span class="eb end">}</span></span></span><span class="ri" style="top:2.2em;font-size:.7em"><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>y</var></span><span class="eb end">}</span></span><span class="kern" style="margin-left:.25em"><span class="Bin">∈</span></span><span class="kern" style="margin-left:.25em"><xc>𝔐</xc><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span></span></span><span class="eb end">}</span></span><span class="e bn l"><span class="BracketStart">(</span></span><var>D</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="e bn r"><span class="BracketEnd">]</span></span><span class="kern" style="margin-left:.25em"><span class="Bin">⋅</span></span><span class="kern" style="margin-left:.25em"><var>D</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>y</var></span><span class="eb end">}</span></span></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>y</var></span><span class="eb end">}</span></span><span class="e bn r"><span class="BracketEnd">]</span></span><span class="e bn r"><span class="BracketEnd">)</span></span><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>y</var></span><span class="eb end">}</span></span><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">9</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr></table></div><p>The term <a href="#eqn-anchor-6">(6)</a>, <a href="#eqn-anchor-7">(7)</a>, <a href="#eqn-anchor-8">(8)</a> are simply scales of VQs, but term <a href="#eqn-anchor-9">(9)</a> contains product of weight functions that is not representable in the current standard. However releasing this restriction is surprisingly simple: we can allow masters to contain an axis list, which may have duplicate axes, and associate a “tent” (start-peak-end triplet) to each axis item. In the current standard, the axis list is a fixed list shared across the entire font.</p><p>In other terms, the form of <a href="#eqn-anchor-2">(2)</a> would be modified into this form:</p><div class="display-eqn"><table class="eqn-align"><tr id="eqn-anchor-10"><td style="text-align:right"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">=</span><span class="kern" style="margin-left:.25em"><span class="r sss" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:-.050000000000000044em"><span class="r bo" style="height:1.98em;vertical-align:.3749999999999999em"><span class="eb start">{</span><span class="ri" style="top:-2.220446049250313e-16em"><span class="r" style="height:1.8em"><span class="ri" style="font-size:1.5em"><span class="BigOperator">∏</span></span></span></span><span class="eb end">}</span></span></span><span class="ri" style="top:2.2em;font-size:.7em"><span class="e bn l"><span class="BracketStart">(</span></span><var>a</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>τ</var></span><span class="e bn r"><span class="BracketEnd">)</span></span><span class="kern" style="margin-left:.25em"><span class="Bin">∈</span></span><span class="kern" style="margin-left:.25em"><xc>𝔄</xc></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="e bn r"><span class="BracketEnd">]</span></span></span><span class="eb end">}</span></span></span>Λ<span class="e bn l"><span class="BracketStart">(</span></span><var>τ</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn l"><span class="BracketStart">[</span></span><var>a</var><span class="e bn r"><span class="BracketEnd">]</span></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">10</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr></table></div><p>Notation <span class="eqn"><xc>𝔄</xc><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="e bn r"><span class="BracketEnd">]</span></span></span> denotes the “axis-tent” list that forms this master, and we do the same product just like the old definition. Then the product of two weighting functions could be defined as:</p><div class="display-eqn"><table class="eqn-align"><tr id="eqn-anchor-11"><td style="text-align:right"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span><var>W</var><span class="e bn l"><span class="BracketStart">(</span></span><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>y</var></span><span class="eb end">}</span></span><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td style="text-align:left"><span class="eqn"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:0"><span class="Bin">=</span><span class="kern" style="margin-left:.25em"><span class="r sss" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:-.050000000000000044em"><span class="r bo" style="height:1.98em;vertical-align:.3749999999999999em"><span class="eb start">{</span><span class="ri" style="top:-2.220446049250313e-16em"><span class="r" style="height:1.8em"><span class="ri" style="font-size:1.5em"><span class="BigOperator">∏</span></span></span></span><span class="eb end">}</span></span></span><span class="ri" style="top:2.2em;font-size:.7em"><span class="e bn l"><span class="BracketStart">(</span></span><var>a</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>τ</var></span><span class="e bn r"><span class="BracketEnd">)</span></span><span class="kern" style="margin-left:.25em"><span class="Bin">∈</span></span><span class="kern" style="margin-left:.25em"><xc>𝔄</xc></span><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="e bn r"><span class="BracketEnd">]</span></span><xc>𝔄</xc><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>y</var></span><span class="eb end">}</span></span><span class="e bn r"><span class="BracketEnd">]</span></span></span><span class="eb end">}</span></span></span>Λ<span class="e bn l"><span class="BracketStart">(</span></span><var>τ</var><span class="kern" style="margin-left:.0625em"><span class="Punct">,</span></span><span class="kern" style="margin-left:.25em"><var>v</var></span><span class="e bn l"><span class="BracketStart">[</span></span><var>a</var><span class="e bn r"><span class="BracketEnd">]</span></span><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td><td><span class="eqn eqn-anchor"><span class="r" style="height:2.4699999999999998em;vertical-align:.32499999999999984em"><span class="eb start">{</span><span class="ri" style="top:.32499999999999984em"><span class="e bn l"><span class="BracketStart">(</span></span><var class="nm">11</var><span class="e bn r"><span class="BracketEnd">)</span></span></span><span class="eb end">}</span></span></span></td></tr></table></div><p>where notation <span class="eqn"><xc>𝔄</xc><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>x</var></span><span class="eb end">}</span></span><span class="e bn r"><span class="BracketEnd">]</span></span><xc>𝔄</xc><span class="e bn l"><span class="BracketStart">[</span></span><var>m</var><span class="r ss" style="height:1.2em;vertical-align:0"><span class="eb start">{</span><span class="ri" style="top:-.27142857142857135em;font-size:.7em"><span class="sp"></span></span><span class="ri" style="top:.7857142857142857em;font-size:.7em"><var>y</var></span><span class="eb end">}</span></span><span class="e bn r"><span class="BracketEnd">]</span></span></span> denotes we simply concatenate the axis-tent lists together.</p><h2 id="Mutatormath-etc">Mutatormath, etc.</h2><p><a target="_blank" rel="noopener" href="https://github.com/LettError/MutatorMath">Mutatormath</a> and libraries similar to that defines how we convert a set of <em>peak tuples</em> into a master set, where each master requires each axis’ record having a <em>start</em> and an <em>end</em>, as well as the <em>peak</em> already given. Once the master set is decided, the interpolation part could be easily done by solving linear systems.</p></div></article></div><footer id="footer"><div class="footer-left"><p>Copyright &copy; 2024 Belleve Invis. Powered by Hexo. Hosted by GitHub.</p></div></footer></body></html>